# 刘浩

### 个人信息

- 职位 : iOS 工程师 (深圳) 
- 年限 : 5年 | 1992年| 近4.5年从事 iOS 开发
- 联系方式 : 手机 17704051924 | 微信 lyle92 | 邮箱 v2top1@163.com
- 博客 : http://www.jianshu.com/u/ee182a726758
- GitHub : https://github.com/lyleLH 
- 教育经历：  本科 | 长江大学 | 地球物理学 | 2010-2014
- 微信公众号： 弓满月 | 产品、技术、读书分享、资源分享等等

### 技能清单

- 超强的批判性思维，具有丰富的经验配合产品和各种技术背景的开发人员做好需求分析和需求评审，控制前期风险。
- 熟悉`Waterfall`、`Agile`、`Devops`的软件开发模式和各自的常用方法技巧。
- 熟悉使用 `Vue` + `Weex` + `Native` 开发移动应用
  - 熟练自定义`WEEX Module`和`WEEX Component`，能独立编写对应的插件的`Vue`Demo
- 熟悉`组件化开发`常用方法和工具
- 熟悉常见的跨平台技术，`Appcan engine`、`Weex`、`React Native`，可以试着往全栈（比较偏好NodeJs、Python）发展。
- 熟悉使用 `fastlane` + `cocoapods` 等工具，搭建自动化应用打包发布
- 熟悉`阿里Aone`，`腾讯Tapd`,`Teambition`等协作平台
- 熟练使用`Git-flow`工作流进行开发协作
- 熟悉 Swift，可快速上手
- 担任过PM岗位，拥有丰富的产品全生命周期过程
- 独立开发并上线过多个高质量iOS应用
- 熟悉`Objective-C` `Runtime` 原理和机制
- 熟悉多线程，熟练使用`GCD`相关接口
- 能独立完成iOS应用的架构设计和实现、常用组件的封装、自定义控件
- 近4.5年使用Mac OS X进行日常开发工作、熟练使用常用的bash shell命令
- 代码结构清晰

### 成就

- 在大、中、小型互联网公司任职过`iOS工程师`、`iOS开发组长`、`移动端技术方案顾问`等职位,熟悉各种规模的项目和团队的研发、管理流程。
  - 善于全局思考、资源规划。
  - 善于利用文档进行有效的沟通。
- 担任过iOS 组长和`产品经理`等管理职位，感染和带领同事遵循相同的原则推进开发和产品目标。
  - 有小组和团队管理经验，擅长沟通协调。
  - 给业务部门的移动组组织过iOS 相关的技术培训。
- 独立承担过多个iOS项目的开发、上架和维护。
  - 参与过多个完整的从0到1的iOS项目
  - 通常主动沟通需求
  - 项目风险前置



### 主要项目和技术

#### `MCC移动能力平台 `
**简介**

MCC移动能力平台是万科全资子公司的技术平台部门核心项目，万科内部的移动应用多达300+，MCC平台作为移动门户入口，整合所有应用，对内提供了应用的生命周期管理的相关功能，同时提升项目组的研发效率，降低成本。

项目的最初雏形来自于jekins+fastlane+cocoapods+shell脚本等实现的一套自动打包发布工具，后期基于这个基本功能，加上了项目创建、祝应用创建等服务。但是核心功能还是打包、发布。

- Fastlane整合了一整套 设计ADC账号管理、证书管理、签名、编译打包（gym）的工具，最初只用到了gym，其余过程都是人工介入。
  - 后面我到团队中之后， 将ADC账号管理、证书管理、签名，使用fastlane的工具+shell 脚本的形式变成自动化过程。
- 移动平台团队所有的开发工程师都有响应其他部门的业务项目开发需求的任务，导致很多平台建设的工作阻塞，基础设施不完善
  - 分离部分开发人员去支援项目，各端保留两名开发人员专注于平台建设，完善基础设置
    - 建立三套基本一致的环境，确定好组件分支拉取和发布的策略，明确验收的需求，以前的很多开发任务，都没有人验收，做了很多重复且无用的工作
- 万科的移动应用现在全面转向 H5 + VUE + WEEX + Native 的混合方案进行开发，主要面向客户的四大业务部门全部依赖于移动平台提供的WEEX组件，公司内部自己开发的40+组件都是为了响应业务需求而开发的，后面推荐平台建设的时候出现了很多问题
  - 组件的发布不稳定
  - 版本依赖关系简单粗暴，所有组件都默认拉取最新版本，导致项目组的功能不稳定
  - cocopods的索引库写入权限太低，所有原生开发都有写入权限，存在任意变动的情况，在没有测试和预发环境的前提下，有了生产环境意义也不大，导致业务部门的打包经常失败
    - 解决方案是，确定一套新的发布流程，向项目组推出移动平台官方组件的概念，收回`cocoa pods `索引库的权限，告知各项目组，以前研发的组件由项目组用源码方式引用，没有原生开发能力的时候，由我们平台提供支持。
- MCC的日常开发中主要的工作之一是为所有内部应用提供原生的WEEX 组件，进入项目组之后观察到了很多的问题
  - 组件没有版本的概念，没有需求分析和评审的环节，组件的接口设计、文档、和Demo不完善，iOS和android人员互相不沟通，导致前端开发使用时非常不友好，且容易出错。
    - 和leader 商量之后，由我协调原生开发人员，确定了一套官方组件的开发原则、流程和实施方案，在平台内部评审过后，拆解成任务指派和原生 前端和后端服务开发进行实时。
      - 由于cocoapods的podspec文件不支持指定source的分支的形式查询索引库，所以只能自啊脚本写入podfile的时候，制定我们WEEX组件源码分支的形式，需要配合admin后台的插件管理功能。
      - 完善Vue的Demo，给前端快速集成，实现了一个文档规范，省去了对各个项目组的解释和说明工作，这里需要抽象一下，具有通用性。

- Native端实现组件的时候，都大量依赖了第三方的开源框架，但是并没有对第三方开源框架进行二次封装，这给组件后续的升级带来了很大风险，后面所有的组件依赖第三方开源框架都必须是成熟的并且要进行封装后再暴露给上层的WEEX


####  `百感 `
简介 

一款弱社交App，用户能选择一张虚拟的卡片,写上自己的心愿,然后本地保存或者匿名分享到公开的时间线上，具有树洞和记事本类似的功能，但是更有自己的气质。

- 项目1.0版本是公司的前端工程师使用React Native实现的，但是开发人员不具备原生的Debug能力，我入职后根据项目的时间需求，评估分析了项目难度在两周内交付了一个原生的版本。
  - 使用以前积累的一整套工具包快速搭建了项目的整体结构，大量使用了Category 来模块化代码，提高复用性，清晰工程的结构。
  - 最初设计的网络层，接口过于冗余，不适合这种中小型项目，后面和后台商量好之后，对接口进行了精简，只保留了Post和Get的请求方式，同事用起来更加简单
  - 由于项目的特殊性，在重点节假日的时候，后端流量会非常大，单个客户端对接口请求很频繁的时候导致服务器压力过大，开始使用缓存，主要思路是在AFN发出请求之间，检查一下请求的所有信息，URL header param metod等组成的key 去磁盘中检索，如果存在直接返回上一次该请求的结果
  - 开源库YYCache 并不支持设置缓存过期时间，而是交给系统LRU淘汰来管理，导致后端的更新不能及时被拉取
    - 后在请求时加上timestamps，取出缓存的时候判断和后端商定的最大时间间隔判断缓存的失效。
- 项目中使用很多的动画，云彩在屏幕上方平移漂浮的动画，最初想的是完全用gif图实现，但是发现这样应用包的体积过大于是，改成layer承载图片，随机从屏幕一遍出现 匀速平移。
- 为了表现一个树的四个季节更替和形态变化，UI制作的几组动画 图片数量巨大，内存占用非常高
  - 后来分析到，OC中引入图片的方式不能使用 `+ imageNamed`，此方法会有缓存加快图片二次使用，这也导致了几百张图片的巨大内存占用，后来改用`+ imageWithContentsOfFile:imagePath`的方式加载图片
  - 大量的图片也导致了应用体积的过快增长，市面上没有免费的图片批量压缩软件，找了一些开源项目，来解决这个问题
    - ffmpeg 来处理图片的时候，学习成本略高，参数过多，每一次调试都要要协调UI人员质量是否过关 比较耗时
    - tinypng 有免费限制，实现思路是 使用脚本切换邮箱获得无限的张数，后来发现这个思路已经有人实现过。
- 用户的文字需要记录在本地，可以离线查看，最初版本的实现比较简陋，直接用了`NSKeyedArchiver` 实现，后来发现数据不好扩展，版本升级 新增数据的操作也比较复杂
  - 对比多种方案之后，使用了Realm实现数据持久化，Realm的API非常友好，对象化的使用方式也很清晰，尤其适合数据的自动更新。但是多线程操作比较麻烦，主线程生成的对象，在子线程中是无法访问的比较坑。
  - auto-update的特性，每次对对象有操作的时候，能自动更新存储。

#### `酷配养车 `
简介 

电商O2O程序，包含汽车配件用品商城和汽车服务O2O功能，基于LBS的线上成单线下消费的模式，配合运营，也会开发一些可能会成单量较大的轻需求

- 由于商城相关功能的迭代过程中后端的核心功能变动并不大，变动大多是UI和交互，导致native的开发人员的代码复用性不高，每次迭代的时间都花了很多时间堆砌UI的代码。
  - 后面开始和PM以及UI进行协商，同时对需求进行更小粒度的划分，把自定义组件的通用性和扩展性设计得更好，也敦促UI出一整套的UI设计规范，我们内部封装风格一致的通用UI控件。
- 最初的网络层封装，异步5的响应全部使用delegate的方式通信到控制器，由于Viewcontroller之间的导航关系比较复杂，有时候异步的请求回来，但是控制器已经释放了，特别是弱网条件下出现频繁。
  - 后面全部改用block回调，需要引用的外部变量明确的使用__block声明。
- 商城类应用大多数的代码量都在于列表展示和交互上，最初不了解开源框架的时候，很多功能都用基本思路自己实现，迭代过程中查漏补缺也比不上那些关闭了几百个issue的开源库
  - 比如tableview 的占位图 最初用`tableviewfooter`实现，后来发现collectionview 也需要，只好再封装一次，再后来 需要文字，动图，最后直接迁移到了`DZNEmptyDataSet`
  - 以前项目中所有的功能都是纯代码实现的，各个开发人员不好随便接手，项目人员流转打了，风格也不一致，后面自学了xib之后，给大伙儿分享，一起用xib写交互弱一点的界面。
  - 迭代平稳的时候专门抽空出来，重构代码，重构的过程中把各种工具、模块抽象出来，提升开发效率



#### 其他项目 | 2015.04-2015.07

- 酷配商家
- 天马星
- Mount
- GetWell2.0
- 航通守护者、OEM-UUAID 、OEM-UU助手蓝牙版 、OEM-珠宝卫士

- 爱狗狗等
- 亲生活
- 开心赚

### 技术细节

- 使用`CoreAnimation`实现卡片相关的动画,使用`CABasicAnimation`完成心灵树和浇水等组合动效
- 使用`Realm`实现数据存储和版本更新后的数据迁移
- 使用HTTP1.1协议下的`Goole Protocol Buffer`的数据传输解析（或者Json协议）
- MVC装饰架构，对网络层和控制器层的封装、完善的Category
- 采用极光推送实现车辆报警功能、消息提醒、广告下发等
- 使用百度地图(BMPMapKit) SDK 实现车辆的定位和历史轨迹显示功能
- 采用Jenkins持续集成和交付，fir进行测试分发
- 实现和优化订单、维保单、一键解决等复杂业务模块
- 使用`环信IM` SDK实现即时通讯单聊功能（公司业务）
- 使用CoreAnimation实现动画,使用CABasicAnimation完成组合动效
- 使用WKWebView嵌入部分的Js代码,实现web和App的部分交互功能
- 使用Git进行版本管理，遵守`Gitflow `标准，使用`bitbucket`、`gitlab`、`Coding`等代码托管平台



### 工作经历

- **高级移动开发工程师** | 深圳市万翼科技有限公司，中软国际外派（2018年8月 - 至今） ，**在职**
  - 移动平台迭代开发
  - 团队建设，梳理流程和积累文档
  - 对业务项目开发支援
  - Weex组件研发
- **担任产品经理/技术负责人**  | 深圳市绿新丰科技有限公司（2018年3月 - 2018年8月）| **5个月** | **项目组解散离职**
  - 负责管理研发团队,跟进项目项目进度
  - 负责对接第三方服务商,跟进合作实现情况
  - 完成部分编码工作
- **担任iOS工程师**  | 深圳市耘财科技有限公司（2017年8月 - 2018年3月）| **7个月** | **公司倒闭 离职**
  - 负责公司百感项目的App开发和迭代
- **担任iOS组长** | 广东酷配电子商务有限公司（2015年8月 - 2017年8月）   | **2年**  | **项目组解散离职**
  - 负责公司酷配养车和酷派商家App的开发迭代和维护
- **iOS开发工程师** | 深圳市航通北斗信息科技公司（2014年8月 - 2015年8月）   | **1年** | **个人原因离职**
  - 负责维护公司的多个业务线的项目，负责开发航通守护者